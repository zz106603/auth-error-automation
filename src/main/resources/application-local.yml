spring:
  flyway:
    enabled: true

  datasource:
    url: jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10

  rabbitmq:
    host: ${RABBIT_HOST}
    port: ${RABBIT_PORT}
    username: ${RABBIT_USERNAME}
    password: ${RABBIT_PASSWORD}
    virtual-host: ${RABBIT_VHOST:/}
    listener:
      simple:
        acknowledge-mode: manual
        auto-startup: false # outbox/consumer 로직 완성 전에는 자동 소비 방지

outbox:
  owner: ${POD_NAME:}

  poller:
    batch-size: 50
    fixed-delay-ms: 500

  retry:
    max-retries: 10
    delay-seconds: 60

  reaper:
    stale-after-seconds: 300
    batch-size: 100
    fixed-delay-ms: 5000